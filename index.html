<!DOCTYPE html>
<html>
<head>
    <title>Map viewer</title>
    <meta charset="utf-8" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css"
   integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ=="
   crossorigin=""/>

    <script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js"
   integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw=="
   crossorigin=""></script>

    <script>
var map = null


function onEachFeature(feature, layer) {
    var popupContent = "<p>NÃ¡zev ulice: ";

    if (feature.properties && feature.properties["Nazev"]) {
        popupContent += feature.properties["Nazev"];
    }
    popupContent += "</p>Kod: ";
 
    if (feature.properties && feature.properties["Kod"]) {
        popupContent += feature.properties["Kod"];
    }   
    popupContent += "</p>";

    layer.bindPopup(popupContent);
}

function onVectorDataReady(data) {
    L.geoJson(data, {
        style: {
            color: "#ff5500 ",
            weight: 4,
            opacity: 1,
            fill: false
        },

        onEachFeature: onEachFeature

   }).addTo(map);
}

function mapDivLoaded() {
    map = L.map('map').setView([50.08, 14.415], 13);

    L.tileLayer('https://api.mapbox.com/styles/v1/mapbox/streets-v9/tiles/{z}/{x}/{y}?access_token=pk.eyJ1IjoiaG9ya3lsYWRpc2xhdiIsImEiOiJjaXVwbTZraGgwMDNmMnlwazE5c2wxazZpIn0.vPPHzOu544kRuJ6j8zml2g', {
        attribution: '&copy; Mapbox, &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(map);

    //get the vector data
    var x = new XMLHttpRequest();
    x.overrideMimeType("application/json");
    x.open("GET", './ulice.geojson', true);
    x.onreadystatechange = function () {
        if ((x.readyState) == 4 && ((x.status == 200) || (x.status == 0)))
        {
            onVectorDataReady(JSON.parse(x.responseText));
        }
    };
    x.send(null);
}

    </script>

</head>
<body style="width:100%;height:100%" onload="mapDivLoaded();">
	<!--div id="loading">Loading data...</div-->
    <div id="map" style="width:100%;height:100%;position:absolute;left:0px;top:0px"></div>

</body>
</html>
